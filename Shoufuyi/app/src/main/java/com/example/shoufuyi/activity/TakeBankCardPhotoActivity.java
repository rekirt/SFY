package com.example.shoufuyi.activity;import android.content.Intent;import android.os.Bundle;import android.text.TextUtils;import android.view.View;import android.widget.Button;import android.widget.ImageView;import com.example.shoufuyi.R;import com.example.shoufuyi.uitls.Constant;import com.example.shoufuyi.uitls.ImageHelper;import com.example.shoufuyi.uitls.ToastHelper;import com.example.shoufuyi.uitls.view.CardScanCameraActivity;import com.itech.message.Result_120023;/** * * Description:用于采集银行卡照片 Created by Fu.H.L on Date:2015-9-22-上午12:52:34 * Copyright © 2015年 Fu.H.L All rights reserved. */public class TakeBankCardPhotoActivity extends BaseActivity {    private String returnAction = "android.intent.action.MAIN";    private String resultAction = "";    private Result_120023 mResult;    public static final String KEY_FILE_PATH1 = "pic_file_path1";    public static final String KEY_FILE_PATH2 = "pic_file_path2";    private String mBankCardFrontFilePath = "";    private String mBankCardBackFilePath = "";    private static final int TAKE_PICTURE1 = 0x000001;    private static final int TAKE_PICTURE2 = 0x000002;    protected void onCreate(Bundle savedInstanceState) {		super.onCreate(savedInstanceState);		setContentView(R.layout.activity_take_bankpic);        Intent intent = TakeBankCardPhotoActivity.this.getIntent();        Bundle bundle = intent.getExtras();        mResult = (Result_120023) bundle.get("info");		assignViews();		initData();        setCanBack(true);	}	private ImageView mIvFront;	private ImageView mIvBack;	private Button mBtnUpload;	private void assignViews() {		mIvFront = (ImageView) findViewById(R.id.iv_front);		mIvBack = (ImageView) findViewById(R.id.iv_back);		mBtnUpload = (Button) findViewById(R.id.btn_upload);	}	private void initData() {		mBtnUpload.setOnClickListener(this);		mIvBack.setOnClickListener(this);		mIvFront.setOnClickListener(this);	}	@Override	public void onClick(View arg0) {		switch (arg0.getId()) {            case R.id.btn_upload:                break;            case R.id.iv_front:                takeBankCardPhoto(TAKE_PICTURE1);                break;            case R.id.iv_back:				takeBankCardPhoto(TAKE_PICTURE2);                break;            default:                break;		}	}    private void takeBankCardPhoto(int requestCode){        Intent intentTack = new Intent(TakeBankCardPhotoActivity.this, CardScanCameraActivity.class);        intentTack.putExtra("devCode", Constant.devcode);        intentTack.putExtra("CopyrightInfo", "");        intentTack.putExtra("ReturnAciton", returnAction);        intentTack.putExtra("ResultAciton", resultAction);        startActivityForResult(intentTack, requestCode);    }	@Override	protected void onDestroy() {		super.onDestroy();	}    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        if (requestCode == TAKE_PICTURE1 && resultCode == RESULT_OK){            Bundle bundle = data.getExtras();            mBankCardFrontFilePath = bundle.getString(KEY_FILE_PATH1);            if (TextUtils.isEmpty(mBankCardFrontFilePath)) {                ToastHelper.ShowToast("图片路径错误");            }else {                ImageHelper.displayImage("file://" + mBankCardFrontFilePath, mIvFront);            }        }else if (requestCode == TAKE_PICTURE2 && resultCode == RESULT_OK){            Bundle bundle = data.getExtras();            mBankCardBackFilePath = bundle.getString(KEY_FILE_PATH2);            if (TextUtils.isEmpty(mBankCardBackFilePath)) {                ToastHelper.ShowToast("图片路径错误");            }else {                ImageHelper.displayImage("file://" + mBankCardBackFilePath, mIvBack);            }        }    }}